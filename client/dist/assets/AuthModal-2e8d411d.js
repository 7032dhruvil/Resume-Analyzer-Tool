import{r as l,R as e,k as A,l as M,e as p,m as j,n as v,o as G,p as z,q as L}from"./index-38d7edfa.js";import{A as i}from"./index-bb16f89d.js";import{m as s}from"./proxy-2f402e89.js";const $=({isOpen:N,onClose:m,onAuthSuccess:b})=>{const[o,k]=l.useState(!0),[c,C]=l.useState(!1),[h,x]=l.useState(!1),[n,g]=l.useState(null),[a,w]=l.useState({name:"",email:"",password:"",confirmPassword:""}),[r,y]=l.useState({}),d=t=>{const{name:u,value:H}=t.target;w(f=>({...f,[u]:H})),r[u]&&y(f=>({...f,[u]:""}))},S=()=>{const t={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(t.email="Email is invalid"):t.email="Email is required",a.password?a.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",o||(a.name||(t.name="Name is required"),a.password!==a.confirmPassword&&(t.confirmPassword="Passwords do not match")),y(t),Object.keys(t).length===0},F=async t=>{t.preventDefault(),S()&&(x(!0),setTimeout(()=>{x(!1),b({user:{id:"1",name:a.name||"User",email:a.email,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"},token:"mock-jwt-token"}),m()},2e3))},E=async t=>{g(t),setTimeout(()=>{g(null),b({user:{github:{id:"github-1",name:"GitHub User",email:"github.user@example.com",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},google:{id:"google-1",name:"Google User",email:"google.user@example.com",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"}}[t],token:`mock-${t}-token`}),m()},3e3)},P=()=>{k(!o),w({name:"",email:"",password:"",confirmPassword:""}),y({})};return e.createElement(i,null,N&&e.createElement(s.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:m},e.createElement(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden focus:outline-none max-h-screen overflow-y-auto",onClick:t=>t.stopPropagation(),tabIndex:-1,"aria-modal":"true",role:"dialog"},e.createElement("div",{className:"relative p-6 border-b border-secondary-200 dark:border-secondary-700"},e.createElement("button",{onClick:m,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors duration-200"},e.createElement(A,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"})),e.createElement("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white text-center"},o?"Welcome Back":"Create Account"),e.createElement("p",{className:"text-secondary-600 dark:text-secondary-400 text-center mt-2"},o?"Sign in to your account":"Join us and start analyzing resumes")),e.createElement("div",{className:"p-6"},e.createElement("form",{onSubmit:F,className:"space-y-4"},!o&&e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},"Full Name"),e.createElement("div",{className:"relative group"},e.createElement(M,{className:"input-icon pointer-events-none absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400 group-focus-within:text-primary-500 transition-colors duration-200"}),e.createElement(s.input,{type:"text",name:"name",value:a.name,onChange:d,className:`input-field pl-10 ${r.name?"border-error-500 focus:ring-error-500":""}`,placeholder:"Enter your full name",whileFocus:{scale:1.03,borderColor:"#3b82f6"},"aria-label":"Full Name"})),e.createElement(i,null,r.name&&e.createElement(s.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-error-600 dark:text-error-400 text-sm mt-1 flex items-center"},e.createElement(p,{className:"w-4 h-4 mr-1"}),r.name))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},"Email Address"),e.createElement("div",{className:"relative group"},e.createElement(j,{className:"input-icon pointer-events-none absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400 group-focus-within:text-primary-500 transition-colors duration-200"}),e.createElement(s.input,{type:"email",name:"email",value:a.email,onChange:d,className:`input-field pl-10 ${r.email?"border-error-500 focus:ring-error-500":""}`,placeholder:"Enter your email",whileFocus:{scale:1.03,borderColor:"#3b82f6"},"aria-label":"Email Address"})),e.createElement(i,null,r.email&&e.createElement(s.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-error-600 dark:text-error-400 text-sm mt-1 flex items-center"},e.createElement(p,{className:"w-4 h-4 mr-1"}),r.email))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},"Password"),e.createElement("div",{className:"relative group"},e.createElement(v,{className:"input-icon pointer-events-none absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400 group-focus-within:text-primary-500 transition-colors duration-200"}),e.createElement(s.input,{type:c?"text":"password",name:"password",value:a.password,onChange:d,className:`input-field pl-10 pr-10 ${r.password?"border-error-500 focus:ring-error-500":""}`,placeholder:"Enter your password",whileFocus:{scale:1.03,borderColor:"#3b82f6"},"aria-label":"Password"}),e.createElement("button",{type:"button",onClick:()=>C(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300","aria-label":c?"Hide password":"Show password"},c?e.createElement(G,{className:"w-5 h-5"}):e.createElement(z,{className:"w-5 h-5"}))),e.createElement(i,null,r.password&&e.createElement(s.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-error-600 dark:text-error-400 text-sm mt-1 flex items-center"},e.createElement(p,{className:"w-4 h-4 mr-1"}),r.password))),!o&&e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2"},"Confirm Password"),e.createElement("div",{className:"relative group"},e.createElement(v,{className:"input-icon pointer-events-none absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-secondary-400 group-focus-within:text-primary-500 transition-colors duration-200"}),e.createElement(s.input,{type:c?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:d,className:`input-field pl-10 ${r.confirmPassword?"border-error-500 focus:ring-error-500":""}`,placeholder:"Confirm your password",whileFocus:{scale:1.03,borderColor:"#3b82f6"},"aria-label":"Confirm Password"})),e.createElement(i,null,r.confirmPassword&&e.createElement(s.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-error-600 dark:text-error-400 text-sm mt-1 flex items-center"},e.createElement(p,{className:"w-4 h-4 mr-1"}),r.confirmPassword))),o&&e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),e.createElement("span",{className:"ml-2 text-sm text-secondary-600 dark:text-secondary-400"},"Remember me")),e.createElement("button",{type:"button",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},"Forgot password?")),e.createElement(s.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"},h?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,o?"Signing in...":"Creating account...")):e.createElement("span",null,o?"Sign In":"Create Account"))),e.createElement("div",{className:"my-6 flex items-center"},e.createElement("div",{className:"flex-1 border-t border-secondary-300 dark:border-secondary-600"}),e.createElement("span",{className:"px-4 text-sm text-secondary-500 dark:text-secondary-400"},"or continue with"),e.createElement("div",{className:"flex-1 border-t border-secondary-300 dark:border-secondary-600"})),e.createElement("div",{className:"grid grid-cols-2 gap-3"},e.createElement(s.button,{whileHover:{scale:1.05,backgroundColor:"#24292f",color:"#fff"},whileTap:{scale:.98},onClick:()=>E("github"),disabled:n,className:"flex items-center justify-center space-x-2 px-4 py-3 border border-secondary-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-800 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors duration-200 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Sign in with GitHub"},n==="github"?e.createElement("div",{className:"w-5 h-5 border-2 border-secondary-400 border-t-transparent rounded-full animate-spin"}):e.createElement(L,{className:"w-5 h-5"}),e.createElement("span",{className:"text-sm font-medium"},n==="github"?"Connecting...":"GitHub")),e.createElement(s.button,{whileHover:{scale:1.05,backgroundColor:"#fff",color:"#4285F4"},whileTap:{scale:.98},onClick:()=>E("google"),disabled:n,className:"flex items-center justify-center space-x-2 px-4 py-3 border border-secondary-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-800 hover:bg-blue-50 dark:hover:bg-secondary-700 transition-colors duration-200 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-primary-500",style:{color:n==="google"?void 0:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#fff":"#4285F4"},"aria-label":"Sign in with Google"},n==="google"?e.createElement("div",{className:"w-5 h-5 border-2 border-secondary-400 border-t-transparent rounded-full animate-spin"}):e.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},e.createElement("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.createElement("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.createElement("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.createElement("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),e.createElement("span",{className:"text-sm font-medium dark:text-white text-[#4285F4]"},n==="google"?"Connecting...":"Google"))),e.createElement("div",{className:"mt-6 text-center"},e.createElement("p",{className:"text-secondary-600 dark:text-secondary-400"},o?"Don't have an account?":"Already have an account?",e.createElement("button",{type:"button",onClick:P,className:"ml-1 text-primary-600 dark:text-primary-400 hover:underline font-medium"},o?"Sign up":"Sign in")))))))};export{$ as default};
